<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Vacancies</title>
    <style>
        /* General Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
        }
        
        #search {
      width: 100%;
      position: relative;
      padding: 12px;
      font-size: 16px;
    }

    #results {
        position: absolute;
  top: 100%; /* Right below input */
  left: 0;
  right: 0;
      margin-top: 20px;
      max-width: 400px;
    }

    .result-item {
      padding: 10px;
      background: white;
      margin-bottom: 5px;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .result-item:hover {
      background-color: #eef;
    }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        /* Job Cards Container */
        .job-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Job Card Styles */
        .job-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 20px rgba(0, 0, 0, 0.2);
        }
        
        .job-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #6e8efb, #a777e3);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        
        .job-card:hover::after {
            transform: scaleX(1);
        }
        
        .job-logo {
            height: 80px;
            background-color: #f9f9f9;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        
        .job-logo img {
            max-height: 100%;
            max-width: 80%;
            object-fit: contain;
        }
        
        .job-details {
            padding: 20px;
        }
        
        .job-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .job-company {
            font-weight: 500;
            margin-bottom: 5px;
            color: #34495e;
        }
        
        .job-location, .job-salary {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .job-location i, .job-salary i {
            margin-right: 5px;
            color: #95a5a6;
        }
        
        .job-tags {
            display: flex;
            flex-wrap: wrap;
            margin-top: 15px;
            gap: 5px;
        }
        
        .tag {
            padding: 5px 10px;
            background-color: #ecf0f1;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #7f8c8d;
        }
        
        /* Job Detail Page */
        .job-detail-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .job-detail-container {
            background-color: white;
            margin: 50px auto;
            max-width: 800px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(-30px);
            transition: transform 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }
        
        .job-detail-header {
            padding: 30px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            position: relative;
        }
        
        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.3);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .close-button:hover {
            background: rgba(255, 255, 255, 0.5);
        }
        
        .job-detail-company {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .job-detail-logo {
            width: 80px;
            height: 80px;
            background-color: white;
            border-radius: 10px;
            padding: 10px;
            margin-right: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .job-detail-logo img {
            max-width: 100%;
            max-height: 100%;
        }
        
        .job-detail-title {
            font-size: 2rem;
            margin-bottom: 5px;
        }
        
        .job-detail-company-name {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .job-detail-info {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .job-detail-info-item {
            display: flex;
            align-items: center;
        }
        
        .job-detail-info-item i {
            margin-right: 10px;
        }
        
        .job-detail-content {
            padding: 30px;
        }
        
        .job-detail-section {
            margin-bottom: 30px;
        }
        
        .job-detail-section-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #2c3e50;
            position: relative;
            padding-bottom: 8px;
        }
        
        .job-detail-section-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            height: 3px;
            width: 50px;
            background: linear-gradient(90deg, #6e8efb, #a777e3);
        }
        
        .job-detail-description p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: #555;
        }
        
        .job-detail-requirements ul,
        .job-detail-benefits ul {
            list-style-position: inside;
            padding-left: 15px;
        }
        
        .job-detail-requirements li,
        .job-detail-benefits li {
            margin-bottom: 10px;
            line-height: 1.5;
            color: #555;
        }
        
        .job-detail-apply {
            padding: 20px 30px;
            background-color: #f9f9f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .apply-button {
            padding: 12px 30px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .apply-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(110, 142, 251, 0.4);
        }
        
        .job-detail-deadline {
            color: #7f8c8d;
        }
        
        /* Animation Classes */
        .show-detail {
            display: block;
            opacity: 1;
        }
        
        .show-detail .job-detail-container {
            transform: translateY(0);
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .job-container {
                grid-template-columns: 1fr;
            }
            
            .job-detail-container {
                margin: 30px 15px;
            }
            
            .job-detail-header {
                padding: 20px;
            }
            
            .job-detail-title {
                font-size: 1.5rem;
            }
            
            .job-detail-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .job-detail-apply {
                flex-direction: column;
                gap: 15px;
            }
        }
        
        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #6e8efb;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Fade-In Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .job-card {
            animation: fadeIn 0.5s ease forwards;
            opacity: 0;
        }
        
        .job-card:nth-child(1) { animation-delay: 0.1s; }
        .job-card:nth-child(2) { animation-delay: 0.2s; }
        .job-card:nth-child(3) { animation-delay: 0.3s; }
        .job-card:nth-child(4) { animation-delay: 0.4s; }
        .job-card:nth-child(5) { animation-delay: 0.5s; }
        .job-card:nth-child(6) { animation-delay: 0.6s; }

        .search-container {
        max-width: 1000px;
        margin: 0 auto 40px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        padding: 25px;
        animation: slideDown 0.6s ease-out;
    }
    
    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .search-title {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 1.6rem;
    }
    
    .search-form {
        display: grid;
        grid-template-columns: 1fr 1fr auto;
        gap: 15px;
        align-items: start;
    }
    
    .search-group {
        position: relative;
    }
    
    .input-wrapper {
        position: relative;
    }
    
    .input-wrapper i {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #95a5a6;
        transition: color 0.3s ease;
    }
    
    .input-wrapper input {
        width: 100%;
        padding: 15px 15px 15px 45px;
        border: 1px solid #dcdfe6;
        border-radius: 8px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background-color: #f9fafb;
    }
    
    .input-wrapper input:focus {
        border-color: #a777e3;
        box-shadow: 0 0 0 3px rgba(167, 119, 227, 0.15);
        outline: none;
        background-color: white;
    }
    
    .input-wrapper input:focus + i {
        color: #6e8efb;
    }
    
    .search-button {
        padding: 15px 30px;
        background: linear-gradient(135deg, #6e8efb, #a777e3);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 10px rgba(110, 142, 251, 0.3);
    }
    
    .search-button i {
        margin-right: 8px;
    }
    
    .search-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(110, 142, 251, 0.4);
    }
    
    .search-button:active {
        transform: translateY(0);
        box-shadow: 0 2px 5px rgba(110, 142, 251, 0.4);
    }
    
    /* Suggestions Container */
    .skills-suggestions-container,
    .location-suggestions-container {
        position: absolute;
        width: 100%;
        max-height: 200px;
        overflow-y: auto;
        background: white;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        z-index: 100;
        display: none;
        top: calc(100% + 5px);
    }
    
    .suggestions-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .suggestion-item {
        padding: 10px 15px;
        cursor: pointer;
        transition: background 0.2s ease;
    }
    
    .suggestion-item:hover {
        background: #f5f7fa;
    }
    
    .suggestion-item.active {
        background: #e9f0fe;
    }
    
    /* Active Filters Styles */
    .active-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 20px;
    }
    
    .active-filter {
        display: flex;
        align-items: center;
        background: #f5f7fa;
        border-radius: 20px;
        padding: 5px 12px;
        font-size: 0.9rem;
        color: #2c3e50;
        animation: fadeIn 0.3s ease forwards;
        transition: all 0.3s ease;
    }
    
    .active-filter:hover {
        background: #edf1f7;
    }
    
    .active-filter .filter-category {
        font-weight: 600;
        margin-right: 5px;
    }
    
    .active-filter .filter-value {
        color: #6e8efb;
    }
    
    .active-filter .remove-filter {
        margin-left: 8px;
        color: #95a5a6;
        cursor: pointer;
        width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s ease;
    }
    
    .active-filter .remove-filter:hover {
        background: #e74c3c;
        color: white;
    }
    
    /* No results message */
    .no-results {
        text-align: center;
        padding: 40px;
        color: #7f8c8d;
        font-size: 1.2rem;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        margin: 20px auto;
        max-width: 600px;
        animation: fadeIn 0.5s ease forwards;
        display: none;
    }

    .noo-results {
        text-align: center;
        padding: 40px;
        color: #7f8c8d;
        font-size: 1.2rem;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        margin: 20px auto;
        max-width: 600px;
        animation: fadeIn 0.5s ease forwards;
    
    }
    
    .no-results i {
        font-size: 3rem;
        color: #95a5a6;
        margin-bottom: 15px;
        display: block;
    }
    
    /* Job Card Animations for Filtering */
    .job-card.filtered-out {
        animation: fadeOut 0.4s ease forwards;
    }
    
    .job-card.filtered-in {
        animation: fadeIn 0.5s ease forwards;
    }
    
    @keyframes fadeOut {
        from { opacity: 1; transform: scale(1); }
        to { opacity: 0; transform: scale(0.95); max-height: 0; margin: 0; padding: 0; overflow: hidden; }
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
        .search-form {
            grid-template-columns: 1fr;
        }
        
        .search-container {
            padding: 20px 15px;
        }
    }

    .job-type-filter {
    margin-top: 20px;
    width: 100%;
    display: flex;
    justify-content: center;
}

.filter-buttons {
    display: flex;
    gap: 10px;
    background: white;
    padding: 5px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.filter-btn {
    padding: 8px 20px;
    border: none;
    border-radius: 6px;
    background: transparent;
    color: #666;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn:hover {
    background: #f0f0f0;
}

.filter-btn.active {
    background: linear-gradient(135deg, #6e8efb, #a777e3);
    color: white;
}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
</head>
<body>
    <div class="loading">
        <div class="spinner"></div>
    </div>
    {% if messages %}
    {% for message in messages %}
    
        <div class="alert alert-success alert-dismissible">
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            <strong>{{ message }}</strong> 
          </div>
    {% endfor %}
{% endif %}

    <header>
        <h1>Find Your Dream Job</h1>
        <p>Discover opportunities that match your skills and ambitions</p>
        {% if request.user.is_authenticated %}
       <a href="/common_dashboard"> <button  class="search-button" style="background: #6e8efb;" >
             Go to Dashboard
        </button></a>
        {% endif %}
    </header>

    <div class="search-container">
        <h2 class="search-title">Find Your Perfect Job</h2>
       
        <form action="search_jobs" method="POST">
            {% csrf_token %}
        <div class="search-form">
            <div class="search-group">
                <div class="input-wrapper">
                    
                    <input type="text" id="skillsInput" name="subject" placeholder="Enter skills, technologies, or positions...">
                    <div class="skills-suggestions-container">
                        <ul id="skillsSuggestions" class="suggestions-list"></ul>
                    </div>
                </div>
            </div>
            <div class="search-group">
                <div class="input-wrapper">
                  
                    <div id="search-container">
                        <input type="text" id="search" name="location" placeholder="Start typing..." />
                        <div id="results"></div>
                      </div>
                </div>
            </div>
            <button id="searchButton" class="search-button" type="submit">
                <i class="fas fa-search"></i> Find Jobs
            </button>
        </div>

    </form>

        <div class="job-type-filter">
            <div class="filter-buttons">
                <a href="{% url 'h_tutors_job' %}">
                    <button class="filter-btn {% if h == 'all' %}active{% endif %}" data-type="all">All</button>
                </a>
                <a href="{% url 'h_online_job' %}">
                    <button class="filter-btn {% if h == 'online' %}active{% endif %}" data-type="remote">Remote</button>
                </a>
                <a href="{% url 'h_home_job' %}">
                    <button class="filter-btn {% if h == 'home' %}active{% endif %}" data-type="onsite">On-site</button>
                </a>
    

            </div>
        </div>
        <div class="active-filters" id="activeFilters">
            <!-- Active filters will be populated here -->
        </div>
    </div>

    <div class="job-container">
     
        {% for i in all %}
        <!-- Job Card 6 -->
        <div class="job-card" data-job-id="6">
            <div class="job-logo">
                <img src="https://www.shutterstock.com/image-vector/circle-line-simple-design-logo-600nw-2174926871.jpg" alt="Netflix Logo">
            </div>
            <div class="job-details">
                {% if request.user.is_authenticated %}
                {% if account %}
                <a href="/view_post_teach/{{account.email}}/{{i.email}}/{{i.id}}">  <h2 class="job-title"> {{i.subject}} Teacher in {{i.location}}</h2></a>
                {% else %}
                <h2 class="job-title"> {{i.subject}} Teacher in {{i.location}}</h2>
                {% endif %}
                {% else %}
                <h2 class="job-title"> {{i.subject}} Teacher in {{i.location}}</h2>
                {% endif %}
               
                <p class="job-company">{{i.meeting_option}} </p>
                <p class="job-location"><i class="fas fa-map-marker-alt"></i> {{i.location}}</p>
                <p class="job-salary"><i class="fas fa-dollar-sign"></i> {{i.budget}} ({{i.budget_need}})</p>
                <div class="job-tags">
                    
            {% if i.subject %}
            <span class="tag">{{i.subject}}</span>
         
            {% endif %}
            {% if i.two_subject %}
            <span class="tag">{{i.two_subject}}</span>
            {% endif %}
            {% if i.three_subject %}
            <span class="tag">{{i.three_subject}}</span>
            {% endif %}
            {% if i.four_subject %}
            <span class="tag">{{i.four_subject}}</span>
            {% endif %}

            {% if i.five_subject %}
            <span class="tag">{{i.five_subject}}</span>
            {% endif %}
            {% if request.user.is_authenticated %}
            {% if account %}
            <a href="/view_post_teach/{{account.email}}/{{i.email}}/{{i.id}}">  <span class="tag">view Post</span></a>
            {% else %}
          
            {% endif %}
            {% else %}
          <a href="/stu_login">  <span class="tag">view Post</span></a>
            {% endif %}
                    
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="no-results">
        <i class="fas fa-search"></i>
        <p>No jobs match your search criteria</p>
        <p>Try modifying your search terms or clearing all filters</p>
    </div>

    {% if all %}
   
    {% else %}
    <div class="noo-results">
        <i class="fas fa-search"></i>
        <p>No jobs match your search criteria</p>
        <p>Try modifying your search terms or clearing all filters</p>
    </div>
    {% endif %}


    <!-- Job Detail Page -->
    <div class="job-detail-page" id="jobDetailPage">
        <div class="job-detail-container">
            <div class="job-detail-header">
                <div class="close-button" id="closeButton">✕</div>
                <div class="job-detail-company">
                    <div class="job-detail-logo">
                        <img id="detailLogo" src="/api/placeholder/150/80" alt="Company Logo">
                    </div>
                    <div>
                        <h1 class="job-detail-title" id="detailTitle">Job Title</h1>
                        <p class="job-detail-company-name" id="detailCompany">Company Name</p>
                    </div>
                </div>
                <div class="job-detail-info">
                    <div class="job-detail-info-item" id="detailLocation">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Location</span>
                    </div>
                    <div class="job-detail-info-item" id="detailSalary">
                        <i class="fas fa-dollar-sign"></i>
                        <span>Salary Range</span>
                    </div>
                    <div class="job-detail-info-item">
                        <i class="fas fa-clock"></i>
                        <span>Full Time</span>
                    </div>
                </div>
            </div>
            
            <div class="job-detail-content">
                <div class="job-detail-section job-detail-description">
                    <h2 class="job-detail-section-title">Job Description</h2>
                    <div id="detailDescription">
                        <p>Job description content will be loaded here.</p>
                    </div>
                </div>
                
                <div class="job-detail-section job-detail-requirements">
                    <h2 class="job-detail-section-title">Requirements</h2>
                    <ul id="detailRequirements">
                        <!-- Requirements will be loaded here -->
                    </ul>
                </div>
                
                <div class="job-detail-section job-detail-benefits">
                    <h2 class="job-detail-section-title">Benefits</h2>
                    <ul id="detailBenefits">
                        <!-- Benefits will be loaded here -->
                    </ul>
                </div>
            </div>
            
            <div class="job-detail-apply">
                <button class="apply-button">Apply Now</button>
                <p class="job-detail-deadline" id="detailDeadline">Application deadline: February 28, 2025</p>
            </div>
        </div>
    </div>

    <script>
        // Job data for dynamic loading
      

        // Wait for DOM content to load
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading spinner after content loads
            setTimeout(() => {
                document.querySelector('.loading').style.display = 'none';
            }, 1500);

            // Get job cards and detail elements
            const jobCards = document.querySelectorAll('.job-card');
            const jobDetailPage = document.getElementById('jobDetailPage');
            const closeButton = document.getElementById('closeButton');

            // Add click event to each job card
            jobCards.forEach(card => {
                card.addEventListener('click', function() {
                    const jobId = this.getAttribute('data-job-id');
                    showJobDetails(jobId);
                });
            });

            // Close detail page when clicking close button
            closeButton.addEventListener('click', function() {
                jobDetailPage.classList.remove('show-detail');
                setTimeout(() => {
                    jobDetailPage.style.display = 'none';
                }, 400);
            });

            // Close detail page when clicking outside the container
            jobDetailPage.addEventListener('click', function(e) {
                if (e.target === jobDetailPage) {
                    jobDetailPage.classList.remove('show-detail');
                    setTimeout(() => {
                        jobDetailPage.style.display = 'none';
                    }, 400);
                }
            });

            // Function to show job details
            function showJobDetails(jobId) {
                // Get job data
                const job = jobData[jobId];
                
                if (!job) return;
                
                // Set job details
                document.getElementById('detailTitle').textContent = job.title;
                document.getElementById('detailCompany').textContent = job.company;
                document.getElementById('detailLogo').src = job.logo;
                document.getElementById('detailLogo').alt = `${job.company} Logo`;
                document.getElementById('detailLocation').innerHTML = `<i class="fas fa-map-marker-alt"></i> <span>${job.location}</span>`;
                document.getElementById('detailSalary').innerHTML = `<i class="fas fa-dollar-sign"></i> <span>${job.salary}</span>`;
                document.getElementById('detailDescription').innerHTML = job.description;
                document.getElementById('detailDeadline').textContent = job.deadline;

                // Populate requirements list
                const requirementsList = document.getElementById('detailRequirements');
                requirementsList.innerHTML = '';
                job.requirements.forEach(requirement => {
                    const li = document.createElement('li');
                    li.textContent = requirement;
                    requirementsList.appendChild(li);
                });

                // Populate benefits list
                const benefitsList = document.getElementById('detailBenefits');
                benefitsList.innerHTML = '';
                job.benefits.forEach(benefit => {
                    const li = document.createElement('li');
                    li.textContent = benefit;
                    benefitsList.appendChild(li);
                });

                // Show the detail page with animation
                jobDetailPage.style.display = 'block';
                setTimeout(() => {
                    jobDetailPage.classList.add('show-detail');
                }, 10);
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
        // Available locations and skills for suggestions
        const availableLocations = [
          // Andhra Pradesh
         "Visakhapatnam, Andhra Pradesh",
                "Vijayawada, Andhra Pradesh",
                "Guntur, Andhra Pradesh",
                "Tirupati, Andhra Pradesh",
                "Kurnool, Andhra Pradesh",
                "Nellore, Andhra Pradesh",
                "Rajahmundry, Andhra Pradesh",
                "Kakinada, Andhra Pradesh",
                "Anantapur, Andhra Pradesh",
                "Kadapa, Andhra Pradesh",
                "Chittoor, Andhra Pradesh",
                "Eluru, Andhra Pradesh",
                "Machilipatnam, Andhra Pradesh",
                "Srikakulam, Andhra Pradesh",
                "Vizianagaram, Andhra Pradesh",

                // Arunachal Pradesh
                "Itanagar, Arunachal Pradesh",
                "Pasighat, Arunachal Pradesh",
                "Tawang, Arunachal Pradesh",
                "Ziro, Arunachal Pradesh",
                "Naharlagun, Arunachal Pradesh",
                "Bomdila, Arunachal Pradesh",
                "Tezu, Arunachal Pradesh",
                "Roing, Arunachal Pradesh",

                // Assam
                "Guwahati, Assam",
                "Dibrugarh, Assam",
                "Silchar, Assam",
                "Jorhat, Assam",
                "Tinsukia, Assam",
                "Nagaon, Assam",
                "Tezpur, Assam",
                "Diphu, Assam",
                "Sibsagar, Assam",
                "Goalpara, Assam",
                "Barpeta, Assam",
                "Dhubri, Assam",

                // Bihar
                "Patna, Bihar",
                "Gaya, Bihar",
                "Bhagalpur, Bihar",
                "Muzaffarpur, Bihar",
                "Darbhanga, Bihar",
                "Purnia, Bihar",
                "Ara, Bihar",
                "Begusarai, Bihar",
                "Katihar, Bihar",
                "Munger, Bihar",
                "Chapra, Bihar",
                "Hajipur, Bihar",

                // Chhattisgarh
                "Raipur, Chhattisgarh",
                "Bilaspur, Chhattisgarh",
                "Durg, Chhattisgarh",
                "Korba, Chhattisgarh",
                "Raigarh, Chhattisgarh",
                "Jagdalpur, Chhattisgarh",
                "Ambikapur, Chhattisgarh",
                "Bhilai, Chhattisgarh",

                // Goa
                "Panaji, Goa",
                "Margao, Goa",
                "Vasco da Gama, Goa",
                "Mapusa, Goa",
                "Ponda, Goa",
                "Bicholim, Goa",
                "Canacona, Goa",
                "Curchorem, Goa",

                // Gujarat
                "Ahmedabad, Gujarat",
                "Surat, Gujarat",
                "Vadodara, Gujarat",
                "Rajkot, Gujarat",
                "Bhavnagar, Gujarat",
                "Jamnagar, Gujarat",
                "Junagadh, Gujarat",
                "Gandhinagar, Gujarat",
                "Nadiad, Gujarat",
                "Porbandar, Gujarat",
                "Vapi, Gujarat",
                "Morbi, Gujarat",

                // Haryana
                "Chandigarh, Haryana",
                "Gurugram, Haryana",
                "Faridabad, Haryana",
                "Hisar, Haryana",
                "Panipat, Haryana",
                "Ambala, Haryana",
                "Yamunanagar, Haryana",
                "Rohtak, Haryana",
                "Karnal, Haryana",
                "Panchkula, Haryana",
                "Sonipat, Haryana",
                "Kurukshetra, Haryana",

                // Himachal Pradesh
                "Shimla, Himachal Pradesh",
                "Dharamshala, Himachal Pradesh",
                "Mandi, Himachal Pradesh",
                "Kullu, Himachal Pradesh",
                "Manali, Himachal Pradesh",
                "Solan, Himachal Pradesh",
                "Una, Himachal Pradesh",
                "Bilaspur, Himachal Pradesh",

                // Jharkhand
                "Ranchi, Jharkhand",
                "Jamshedpur, Jharkhand",
                "Dhanbad, Jharkhand",
                "Bokaro, Jharkhand",
                "Deoghar, Jharkhand",
                "Hazaribagh, Jharkhand",
                "Giridih, Jharkhand",
                "Ramgarh, Jharkhand",

                // Karnataka
                "Bengaluru, Karnataka",
                "Mysuru, Karnataka",
                "Mangaluru, Karnataka",
                "Hubballi, Karnataka",
                "Belagavi, Karnataka",
                "Davangere, Karnataka",
                "Ballari, Karnataka",
                "Shivamogga, Karnataka",

                // Kerala
                "Thiruvananthapuram, Kerala",
                "Kochi, Kerala",
                "Kozhikode, Kerala",
                "Kollam, Kerala",

                // Madhya Pradesh
                "Bhopal, Madhya Pradesh",
                "Indore, Madhya Pradesh",
                "Gwalior, Madhya Pradesh",
                "Jabalpur, Madhya Pradesh",
                "Ujjain, Madhya Pradesh",
                "Sagar, Madhya Pradesh",
                "Rewa, Madhya Pradesh",
                "Satna, Madhya Pradesh",

                // Maharashtra
                "Mumbai, Maharashtra",
                "Pune, Maharashtra",
                "Nagpur, Maharashtra",
                "Nashik, Maharashtra",
                "Aurangabad, Maharashtra",
                "Thane, Maharashtra",
                "Kolhapur, Maharashtra",
                "Solapur, Maharashtra",

                // Manipur
                "Imphal, Manipur",
                "Thoubal, Manipur",
                "Kakching, Manipur",
                "Churachandpur, Manipur",

                // Meghalaya
                "Shillong, Meghalaya",
                "Tura, Meghalaya",
                "Nongpoh, Meghalaya",
                "Jowai, Meghalaya",

                // Mizoram
                "Aizawl, Mizoram",
                "Lunglei, Mizoram",
                "Champhai, Mizoram",
                "Serchhip, Mizoram",

                // Nagaland
                "Kohima, Nagaland",
                "Dimapur, Nagaland",
                "Mokokchung, Nagaland",
                "Tuensang, Nagaland",

                // Odisha
                "Bhubaneswar, Odisha",
                "Cuttack, Odisha",
                "Rourkela, Odisha",
                "Berhampur, Odisha",

                // Punjab
                "Amritsar, Punjab",
                "Ludhiana, Punjab",
                "Chandigarh, Punjab",
                "Jalandhar, Punjab",

                // Rajasthan
                "Jaipur, Rajasthan",
                "Jodhpur, Rajasthan",
                "Udaipur, Rajasthan",
                "Kota, Rajasthan",

                // Sikkim
                "Gangtok, Sikkim",
                "Namchi, Sikkim",
                "Mangan, Sikkim",
                "Pelling, Sikkim",

                // Tamil Nadu

                "Chennai, Tamil Nadu",
                "Madurai, Tamil Nadu",
                "Thanjavur, Tamil Nadu",
                "Kanchipuram, Tamil Nadu",
                "Rameswaram, Tamil Nadu",
                "Chidambaram, Tamil Nadu",
                "Tiruvannamalai, Tamil Nadu",
                "Velankanni, Tamil Nadu",
                "Mahabalipuram, Tamil Nadu",

                "Coimbatore, Tamil Nadu",
                "Tiruppur, Tamil Nadu",
                "Salem, Tamil Nadu",
                "Hosur, Tamil Nadu",
                "Erode, Tamil Nadu",

                "Ooty (Udhagamandalam), Tamil Nadu",
                "Kodaikanal, Tamil Nadu",
                "Yercaud, Tamil Nadu",

                "Marina Beach, Chennai, Tamil Nadu",
                "Kanyakumari, Tamil Nadu",
                "Pondicherry (Puducherry)",
                "Tuticorin, Tamil Nadu",
                "Nagapattinam, Tamil Nadu",

                "The Nilgiris, Tamil Nadu",
                "Mudumalai National Park, Tamil Nadu",
                "Hogenakkal, Tamil Nadu",
                "Kalakkad Mundanthurai Tiger Reserve, Tamil Nadu",

                "Palani, Tamil Nadu",
                "Tiruvarur, Tamil Nadu",
                "Srirangam, Tamil Nadu",

                "Cuddalore, Tamil Nadu",
                "Tirunelveli, Tamil Nadu",
                "Kumbakonam, Tamil Nadu",
                "Vellore, Tamil Nadu",
                "Pollachi, Tamil Nadu",
                "Dindigul, Tamil Nadu",

                // Telangana
                "Hyderabad, Telangana",
                "Warangal, Telangana",
                "Nizamabad, Telangana",
                "Khammam, Telangana",

                // Tripura
                "Agartala, Tripura",
                "Dharmanagar, Tripura",
                "Kailashahar, Tripura",
                "Udaipur, Tripura",

                // Uttar Pradesh
                "Lucknow, Uttar Pradesh",
                "Kanpur, Uttar Pradesh",
                "Varanasi, Uttar Pradesh",
                "Agra, Uttar Pradesh",

                // Uttarakhand
                "Dehradun, Uttarakhand",
                "Haridwar, Uttarakhand",
                "Nainital, Uttarakhand",
                "Rishikesh, Uttarakhand",

                // West Bengal
                "Kolkata, West Bengal",
                "Asansol, West Bengal",
                "Durgapur, West Bengal",
                "Siliguri, West Bengal",

        ];
        
        const availableSkills = [
            "React", "Node.js", "JavaScript", "Python", "Java", "Swift", 
            "iOS Development", "Android Development", "Machine Learning", 
            "Artificial Intelligence", "Product Management", "UX/UI Design", 
            "Graphic Design", "Data Science", "DevOps", "AWS", "Azure",
            "Spring", "MongoDB", "SQL", "NoSQL", "GraphQL", "REST API"
        ];
        
        // Elements
        const skillsInput = document.getElementById('skillsInput');
        const locationInput = document.getElementById('locationInput');
        const skillsSuggestions = document.getElementById('skillsSuggestions');
        const locationSuggestions = document.getElementById('locationSuggestions');
        const searchButton = document.getElementById('searchButton');
        const activeFilters = document.getElementById('activeFilters');
        const jobCards = document.querySelectorAll('.job-card');
        const noResultsMessage = document.querySelector('.no-results');
        
        // States
        let activeSkills = [];
        let activeLocation = '';
        
        // Initialize suggestions containers
        const skillsSuggestionsContainer = document.querySelector('.skills-suggestions-container');
        const locationSuggestionsContainer = document.querySelector('.location-suggestions-container');
        
        // Function to show autocomplete suggestions
        function showSuggestions(input, availableItems, suggestionsElement, container) {
            const value = input.value.toLowerCase();
            
            if (value.length < 2) {
                container.style.display = 'none';
                return;
            }
            
            const filteredItems = availableItems.filter(item => 
                item.toLowerCase().includes(value)
            );
            
            if (filteredItems.length === 0) {
                container.style.display = 'none';
                return;
            }
            
            suggestionsElement.innerHTML = '';
            filteredItems.forEach(item => {
                const li = document.createElement('li');
                li.className = 'suggestion-item';
                li.textContent = item;
                li.addEventListener('click', () => {
                    if (suggestionsElement === skillsSuggestions) {
                        handleSkillSelection(item);
                    } else {
                        locationInput.value = item;
                        activeLocation = item;
                        addActiveFilter('Location', item);
                        container.style.display = 'none';
                    }
                });
                suggestionsElement.appendChild(li);
            });
            
            container.style.display = 'block';
        }
        
        // Handle skill selection
        function handleSkillSelection(skill) {
            if (!activeSkills.includes(skill)) {
                activeSkills.push(skill);
                addActiveFilter('Skill', skill);
                skillsInput.value = '';
                skillsSuggestionsContainer.style.display = 'none';
            }
        }
        
        // Add active filter element
        function addActiveFilter(category, value) {
            // Check if filter already exists
            const existingFilter = Array.from(activeFilters.children).find(
                child => child.querySelector('.filter-value').textContent === value
            );
            
            if (existingFilter) return;
            
            const filterElement = document.createElement('div');
            filterElement.className = 'active-filter';
            filterElement.innerHTML = `
                <span class="filter-category">${category}:</span>
                <span class="filter-value">${value}</span>
                <span class="remove-filter" data-category="${category}" data-value="${value}">
                    <i class="fas fa-times"></i>
                </span>
            `;
            
            // Add animation
            filterElement.style.opacity = '0';
            filterElement.style.transform = 'scale(0.9)';
            
            activeFilters.appendChild(filterElement);
            
            // Trigger animation
            setTimeout(() => {
                filterElement.style.opacity = '1';
                filterElement.style.transform = 'scale(1)';
            }, 10);
            
            // Add event listener to remove button
            const removeButton = filterElement.querySelector('.remove-filter');
            removeButton.addEventListener('click', function() {
                const category = this.getAttribute('data-category');
                const value = this.getAttribute('data-value');
                
                // Remove filter with fade-out animation
                filterElement.style.opacity = '0';
                filterElement.style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    filterElement.remove();
                    
                    // Remove value from active filters
                    if (category === 'Skill') {
                        activeSkills = activeSkills.filter(skill => skill !== value);
                    } else if (category === 'Location') {
                        activeLocation = '';
                        locationInput.value = '';
                    }
                    
                    // Re-filter jobs
                    filterJobs();
                }, 300);
            });
            
            // Filter jobs after adding a filter
            filterJobs();
        }
        
        // Function to filter jobs
        function filterJobs() {
            let visibleCount = 0;
            
            jobCards.forEach(card => {
                const cardLocation = card.querySelector('.job-location').textContent;
                const tags = Array.from(card.querySelectorAll('.tag')).map(tag => tag.textContent);
                const title = card.querySelector('.job-title').textContent;
                const company = card.querySelector('.job-company').textContent;
                
                // Check if location matches (if active location is set)
                const locationMatch = !activeLocation || cardLocation.includes(activeLocation);
                
                // Check if any active skills match with tags or title or company
                const skillMatch = activeSkills.length === 0 || activeSkills.some(skill => {
                    return tags.some(tag => tag.toLowerCase().includes(skill.toLowerCase())) ||
                           title.toLowerCase().includes(skill.toLowerCase()) ||
                           company.toLowerCase().includes(skill.toLowerCase());
                });
                
                if (locationMatch && skillMatch) {
                    // Show the card with animation
                    card.classList.remove('filtered-out');
                    card.classList.add('filtered-in');
                    setTimeout(() => {
                        card.style.display = 'block';
                    }, 50);
                    visibleCount++;
                } else {
                    // Hide the card with animation
                    card.classList.remove('filtered-in');
                    card.classList.add('filtered-out');
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 400);
                }
            });
            
            // Show "No results" message if no jobs are visible
            if (visibleCount === 0 && (activeSkills.length > 0 || activeLocation)) {
                noResultsMessage.style.display = 'block';
            } else {
                noResultsMessage.style.display = 'none';
            }
        }
        
        // Event listeners for input fields
        skillsInput.addEventListener('input', () => {
            showSuggestions(skillsInput, availableSkills, skillsSuggestions, skillsSuggestionsContainer);
        });
        
        locationInput.addEventListener('input', () => {
            showSuggestions(locationInput, availableLocations, locationSuggestions, locationSuggestionsContainer);
        });
        
        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
            if (!skillsInput.contains(e.target) && !skillsSuggestionsContainer.contains(e.target)) {
                skillsSuggestionsContainer.style.display = 'none';
            }
            
            if (!locationInput.contains(e.target) && !locationSuggestionsContainer.contains(e.target)) {
                locationSuggestionsContainer.style.display = 'none';
            }
        });
        
        // Enter key in inputs
        skillsInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && skillsInput.value.trim() !== '') {
                handleSkillSelection(skillsInput.value.trim());
            }
        });
        
        locationInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && locationInput.value.trim() !== '') {
                activeLocation = locationInput.value.trim();
                addActiveFilter('Location', activeLocation);
            }
        });
        
        // Search button click
        searchButton.addEventListener('click', () => {
            // Add animation to button
            searchButton.classList.add('active');
            setTimeout(() => {
                searchButton.classList.remove('active');
            }, 300);
            
            // Add any pending inputs as filters
            if (skillsInput.value.trim() !== '') {
                handleSkillSelection(skillsInput.value.trim());
            }
            
            if (locationInput.value.trim() !== '' && locationInput.value !== activeLocation) {
                activeLocation = locationInput.value.trim();
                addActiveFilter('Location', activeLocation);
            }
            
            // Filter jobs and scroll to results
            filterJobs();
            window.scrollTo({
                top: document.querySelector('.job-container').offsetTop - 20,
                behavior: 'smooth'
            });
        });
        
        // Add animation for search button
        searchButton.addEventListener('mousedown', function() {
            this.style.transform = 'scale(0.95)';
        });
        
        searchButton.addEventListener('mouseup', function() {
            this.style.transform = '';
        });
        
        searchButton.addEventListener('mouseleave', function() {
            this.style.transform = '';
        });
    });

    document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    let activeJobType = 'all';

    // Function to filter jobs by type
    function filterJobsByType(type) {
        const jobCards = document.querySelectorAll('.job-card');
        let visibleCount = 0;

        jobCards.forEach(card => {
            const tags = Array.from(card.querySelectorAll('.tag')).map(tag => tag.textContent.toLowerCase());
            const shouldShow = type === 'all' || 
                (type === 'Online' && (tags.includes('Online') || tags.includes('all'))) ||
                (type === 'Offline' && tags.includes('Offline'));

            if (shouldShow) {
                card.style.display = 'block';
                card.classList.remove('filtered-out');
                card.classList.add('filtered-in');
                visibleCount++;
            } else {
                card.classList.remove('filtered-in');
                card.classList.add('filtered-out');
                setTimeout(() => {
                    card.style.display = 'none';
                }, 400);
            }
        });

        // Show/hide no results message
        const noResultsMessage = document.querySelector('.no-results');
        noResultsMessage.style.display = visibleCount === 0 ? 'block' : 'none';
    }

    // Add click event listeners to filter buttons
    filterButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Remove active class from all buttons
            filterButtons.forEach(btn => btn.classList.remove('active'));
            
            // Add active class to clicked button
            button.classList.add('active');
            
            // Update active job type and filter
            activeJobType = button.getAttribute('data-type');
            filterJobsByType(activeJobType);
        });
    });

    // Modify your existing filterJobs function to include job type filtering
    const originalFilterJobs = window.filterJobs;
    window.filterJobs = function() {
        originalFilterJobs();
        filterJobsByType(activeJobType);
    };
});
    </script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    $('#search').on('input', function () {
      const query = $(this).val();
      if (query.length < 3) {
        $('#results').empty();
        return;
      }

      $.get('https://photon.komoot.io/api/', {
        q: query,
        limit: 5,
        lang: 'en'
      }, function (data) {
        $('#results').empty();

        data.features.forEach(function (place) {
          const props = place.properties;

          // Filter for India
          if (props.country !== 'India') return;

          const location = props.name || '';
          const state = props.state || '';
          const country = props.country || 'India';
          const formatted = `${location}, ${state}`;

          const item = $(`
            <div class="result-item">${formatted}</div>
          `);

          // On click: put it into input box and hide results
          item.on('click', function () {
            $('#search').val(formatted);
            $('#results').empty();
          });

          $('#results').append(item);
        });
      });
    });

    // Optional: hide suggestions if clicked outside
    $(document).on('click', function (e) {
      if (!$(e.target).closest('#search, #results').length) {
        $('#results').empty();
      }
    });
  });
</script>
</body>
</html>